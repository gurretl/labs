- hosts: all
  tasks:
    - name: "With command" 
      command: touch /tmp/lionel
      with_sequence: start=1 end="{{end|default(5)}}"
  tags: test-module

- hosts: all
  tasks:
    - name: "With module"
      file:
        path: /tmp/lionel
        state: touch
      with_sequence: start=1 end="{{end|default(100)}}"
  tags: test-module

- hosts: all
  tasks:
  - file:
      dest: /tmp/templates
      state: "{{item}}"
    with_items: ["absent", "directory"]

  - copy:
      dest: /tmp/templates/{{item}}
      mode: 0755
      content:
        Hello from "{{item}}"
    with_sequence: start=1 end="{{end|default(20)}}" 
  tags: test-templates 

- hosts: all
  become: yes
  roles:
    - geerlingguy.repo-remi
    - geerlingguy.apache
    - geerlingguy.mysql
    - geerlingguy.php-versions
    - geerlingguy.php
    - geerlingguy.php-mysql
    - geerlingguy.composer
  tags: multiple-roles